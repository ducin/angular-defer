<pre class="shiki light-plus" style="background-color: #FFFFFF" tabindex="0"><code><span class="line"><span style="color: #800000">&lt;app-box&gt;</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #800000">&lt;</span><span style="color: #CD3131">content</span><span style="color: #800000">&gt;</span><span style="color: #000000">ðŸ“š When you have </span><span style="color: #800000">&lt;strong&gt;</span><span style="color: #000000">nested</span><span style="color: #800000">&lt;/strong&gt;</span><span style="color: #000000"> </span><span style="color: #800000">&lt;code&gt;</span><span style="color: #0000FF">&amp;#64;</span><span style="color: #000000">defer</span><span style="color: #800000">&lt;/code&gt;</span><span style="color: #000000"> blocks, make sure that an inner one has a different set of conditions, so that they don&#39;t trigger at the same time, causing cascading requests.</span><span style="color: #800000">&lt;/</span><span style="color: #CD3131">content</span><span style="color: #800000">&gt;</span></span>
<span class="line"><span style="color: #800000">&lt;/app-box&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #795E26">@defer </span><span style="color: #000000">(</span><span style="color: #0000FF">on</span><span style="color: #000000"> </span><span style="color: #795E26">timer</span><span style="color: #000000">(</span><span style="color: #098658">2</span><span style="color: #000000">s)) {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #800000">&lt;lazy-nested&gt;</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #800000">&lt;article&gt;</span></span>
<span class="line"><span style="color: #000000">      some </span><span style="color: #800000">&lt;code&gt;</span><span style="color: #0000FF">&amp;#64;</span><span style="color: #000000">defer (on timer(2s))</span><span style="color: #800000">&lt;/code&gt;</span><span style="color: #000000"> content</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #795E26">@defer </span><span style="color: #000000">(</span><span style="color: #0000FF">on</span><span style="color: #000000"> interaction) {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #800000">&lt;lazy-nested-further&gt;</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #800000">&lt;article&gt;</span></span>
<span class="line"><span style="color: #000000">            some </span><span style="color: #800000">&lt;code&gt;</span><span style="color: #0000FF">&amp;#64;</span><span style="color: #000000">defer (on interaction)</span><span style="color: #800000">&lt;/code&gt;</span><span style="color: #000000"> content</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #800000">&lt;/article&gt;</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #800000">&lt;/lazy-nested-further&gt;</span></span>
<span class="line"><span style="color: #000000">      } </span><span style="color: #795E26">@placeholder </span><span style="color: #000000">(minimum </span><span style="color: #098658">500</span><span style="color: #000000">ms) {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #800000">&lt;app-button&gt;</span><span style="color: #000000">ðŸ‘‰ interact with me (the placeholder) to load content ðŸ‘ˆ</span><span style="color: #800000">&lt;/app-button&gt;</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #800000">&lt;/article&gt;</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #800000">&lt;/lazy-nested&gt;</span></span>
<span class="line"><span style="color: #000000">} </span><span style="color: #795E26">@placeholder </span><span style="color: #000000">(minimum </span><span style="color: #098658">500</span><span style="color: #000000">ms) {</span></span>
<span class="line"><span style="color: #000000">  waiting 2s...</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>

<pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">app-box</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #F44747">content</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">ðŸ“š When you have </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">strong</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">nested</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">strong</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">code</span><span style="color: #808080">&gt;</span><span style="color: #569CD6">&amp;#64;</span><span style="color: #D4D4D4">defer</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">code</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> blocks, make sure that an inner one has a different set of conditions, so that they don&#39;t trigger at the same time, causing cascading requests.</span><span style="color: #808080">&lt;/</span><span style="color: #F44747">content</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">app-box</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">@defer </span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">on</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">timer</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">s)) {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">lazy-nested</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">article</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      some </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">code</span><span style="color: #808080">&gt;</span><span style="color: #569CD6">&amp;#64;</span><span style="color: #D4D4D4">defer (on timer(2s))</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">code</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> content</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">@defer </span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">on</span><span style="color: #D4D4D4"> interaction) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">lazy-nested-further</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">article</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            some </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">code</span><span style="color: #808080">&gt;</span><span style="color: #569CD6">&amp;#64;</span><span style="color: #D4D4D4">defer (on interaction)</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">code</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> content</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">article</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">lazy-nested-further</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      } </span><span style="color: #DCDCAA">@placeholder </span><span style="color: #D4D4D4">(minimum </span><span style="color: #B5CEA8">500</span><span style="color: #D4D4D4">ms) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">app-button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">ðŸ‘‰ interact with me (the placeholder) to load content ðŸ‘ˆ</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">app-button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">article</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">lazy-nested</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">} </span><span style="color: #DCDCAA">@placeholder </span><span style="color: #D4D4D4">(minimum </span><span style="color: #B5CEA8">500</span><span style="color: #D4D4D4">ms) {</span></span>
<span class="line"><span style="color: #D4D4D4">  waiting 2s...</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre>
